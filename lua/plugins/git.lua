return {
	{
		'lewis6991/gitsigns.nvim',
		config = function()
			require('gitsigns').setup {
				on_attach = function(bufnr)
					local gitsigns = require 'gitsigns'

					---@param tbl table?
					local function opts(tbl)
						tbl = tbl or {}
						tbl.buffer = bufnr
						return tbl
					end

					vim.keymap.set('n', '<leader>tw', gitsigns.toggle_word_diff, opts { desc = 'gitsigns word diff' })
					vim.keymap.set('n', 'hi', gitsigns.preview_hunk_inline, opts { desc = 'gitsigns hunk inline' })
					vim.keymap.set(
						'n',
						'<leader>tb',
						gitsigns.toggle_current_line_blame,
						opts { desc = 'gitsigns line blame' }
					)
				end,
			}
		end,
	},
	{
		'NeogitOrg/neogit',
		lazy = true,
		dependencies = {
			'nvim-lua/plenary.nvim', -- required
			'nvim-telescope/telescope.nvim',
		},
		cmd = 'Neogit',
		keys = {
			{ '<leader>gg', '<cmd>Neogit<cr>', desc = 'Show Neogit UI' },
		},
	},
}
